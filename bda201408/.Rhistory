library(help = "arm")
data(library = 'arm')
library(help = 'arm')
library(data.table)
fread("~/misc/books_code/gelman_arm/ARM_Data/radon/cty.dat")
cty.dt <- fread("~/misc/books_code/gelman_arm/ARM_Data/radon/cty.dat")
srrs2.dt <- fread("~/misc/books_code/gelman_arm/ARM_Data/radon/srrs2.dat")
srrs2.dt
srrs2.dt[state == 'MN']
str(srrs2.dt)
srrs2.dt[, unique(state)]
lsos()
rm(srrs2.dt, cty.dt)
lsos()
ls()
fread("radon.txt")
fread("radon.txt")[state == "MN"]
radon.dt <- fread("radon.txt")
cty.dt <- fread("cty.txt")
cty.dt
merge(radon.dt, cty.dt, by = c("stfips", "ctfips"))
cty.dt
radon.dt
radon.dt[, unique(paste(state, stfips))]
radon.dt[, keyid := cntyfips]
cty.dt
cty.dt[, keyid := ctfips]
merge(radon.dt, cty.dt, by = 'keyid')
merge(cty.dt, radon.dt, by = 'keyid')
radon.dt
radon.dt[, unique(keyid)]
cty.dt[, unique(keyid)]
cty.dt
cty.dt[st == "MN"]
radon.dt
radon.dt[state == "MN"]
radon.dt[state == "MN", unique(county)]
cty.dt
cty.dt[st == "MN", unique(cty)]
merge(cty.dt, radon.dt, by = 'keyid')
merge(cty.dt, radon.dt, by = 'keyid', allow.cartesian = TRUE)
radon.dt
radon.dt[state == "MN"]
cty.dt[st == "MN"]
merge(radon.dt[state == "MN"], cty[st == "MN"], by = 'keyid')
merge(radon.dt[state == "MN"], cty.dt[st == "MN"], by = 'keyid')
merge(radon.dt[state == "MN"], cty.dt[st == "MN", list(keyid, cty, Uppm)], by = 'keyid')
merge(radon.dt[state == "MN"], cty.dt[st == "MN", list(keyid, cty, Uppm)], by = 'keyid')[county != cty]
cty.dt
cty.dt[, keyid := paste(stfips, ctfips)]
radon.dt
radon.dt[, keyid := paste(stfips, cntyfips)]
radon.dt
cty.dt
merge(radon.dt, cty.dt[, list(keyid, st, cty, Uppm)], by = 'keyid')
cty.dt[, duplicated(keyid)]
cty.dt[, keyid[duplicated(keyid)]]
cty.dt[keyid == "6 37"]
cty.dt[keyid == "6 75"]
cty.dt[keyid == "6 81"]
q()
y
