---
title: "El Dorado"
subtitle: "A Data Science Competition"
author: "Mick Cooney"
date: "March 27, 2017"
output:
  revealjs::revealjs_presentation:
    theme: night
    highlight: pygments
    center: true
    reveal_options:
      slideNumber: true
---


```{r knit_opts, include = FALSE}
knitr::opts_chunk$set(tidy  = FALSE
                     ,cache = FALSE
                     ,fig.height =  8
                     ,fig.width  = 11)

library(tidyverse)
library(cowplot)

options(width = 90L)
```


```{r load_data, message=FALSE, echo=FALSE, fig.height=7, fig.width=10}
height_mean      <- 400

island_data_tbl  <- read_csv("data/island_data.csv")
sample_data_tbl  <- read_csv("data/sample_data.csv")
auction_data_tbl <- read_csv("data/auction_parcels.csv")
```


# Background

## Dublin R - May 2016

![](img/patoreilly.jpg)

"Anyone can fit an elephant"


---

Regularisation

\

L1, L2, ElasticNet


---

![](img/porel_island.png)

Island with gold reserves $\rightarrow$ Predict deposits


---

![](img/light_bulb.png)

---

Never a good thing

---

![](img/pint.jpg)


---

"That would be really cool!"

\

"You should definitely do that"


---

"So how are you thinking of generating the data..."


# The El Dorado Competition

## Basic Idea

```{r plot_elevation_data, message=FALSE, echo=FALSE, fig.height=7, fig.width=10}
ggplot(island_data_tbl) +
    geom_tile(aes(x = Easting, y = Northing, fill = elevation)) +
    scale_fill_gradient2(low = 'blue', mid = 'green', high = 'brown', midpoint = height_mean)
```

---

Mine gold, make profit

\

Bid price, extraction costs, profit margins



## Design Goals

\

Emphasise use of prediction, accuracy less important

\

Something for everyone

---

Vickrey auction: Highest bidder wins, pays second highest price

\

Easy to understand, code, fast to run

---

Harder to 'game'

---

Starting capital

\

50 parcels of land, sequential auctions


---

\[
\text{Score} = \text{Start} - \text{Bids Paid} - \text{Extraction Costs} + \text{Sales}
\]



# Logistics



## Generating Data

\

Online datasets pointless

\

How do I generate data?

---

![](img/dougal_orig.jpg)

---

Make it up!

---

Hard to reverse engineer

\

No 'true' model

---

2D Gaussian Processes

\

$$
150 \times 150 = 22,500 \; \text{land parcels}
$$


---

Tested with simple models


## Managing Submissions

\

Team submits bids for each parcel

\


```{r show_sample_bids, echo=FALSE}
read_lines('data/sample_bid_short.csv') %>%
    cat(sep = '\n')
```



# Results


# The Future


## The Cannonball Run





